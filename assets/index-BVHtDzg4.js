import{isServer as C,createComponent as T,spread as u,useAssets as b,ssr as x,escape as h}from"solid-js/web";import{createContext as N,createUniqueId as $,useContext as O,createRenderEffect as j,onCleanup as P,sharedConfig as E}from"solid-js";const M="https://joerocky.github.io/",w="/rasch-logistics-express",H=M+w,L="Rasch Logistics Express",R="+49 159 01409372",U="Montag bis Freitag",_="08:00 bis 20:00 Uhr",z="unknown@email.com",B="?",F="? ?",J="? ?",V="?",y=N(),g=["title","meta"],l=[],f=["name","http-equiv","content","charset","media"].concat(["property"]),p=(n,t)=>{const e=Object.fromEntries(Object.entries(n.props).filter(([r])=>t.includes(r)).sort());return(Object.hasOwn(e,"name")||Object.hasOwn(e,"property"))&&(e.name=e.name||e.property,delete e.property),n.tag+JSON.stringify(e)};function A(){if(!E.context){const e=document.head.querySelectorAll("[data-sm]");Array.prototype.forEach.call(e,r=>r.parentNode.removeChild(r))}const n=new Map;function t(e){if(e.ref)return e.ref;let r=document.querySelector(`[data-sm="${e.id}"]`);return r?(r.tagName.toLowerCase()!==e.tag&&(r.parentNode&&r.parentNode.removeChild(r),r=document.createElement(e.tag)),r.removeAttribute("data-sm")):r=document.createElement(e.tag),r}return{addTag(e){if(g.indexOf(e.tag)!==-1){const s=e.tag==="title"?l:f,a=p(e,s);n.has(a)||n.set(a,[]);let i=n.get(a),m=i.length;i=[...i,e],n.set(a,i);let d=t(e);e.ref=d,u(d,e.props);let c=null;for(var r=m-1;r>=0;r--)if(i[r]!=null){c=i[r];break}return d.parentNode!=document.head&&document.head.appendChild(d),c&&c.ref&&c.ref.parentNode&&document.head.removeChild(c.ref),m}let o=t(e);return e.ref=o,u(o,e.props),o.parentNode!=document.head&&document.head.appendChild(o),-1},removeTag(e,r){const o=e.tag==="title"?l:f,s=p(e,o);if(e.ref){const a=n.get(s);if(a){if(e.ref.parentNode){e.ref.parentNode.removeChild(e.ref);for(let i=r-1;i>=0;i--)a[i]!=null&&document.head.appendChild(a[i].ref)}a[r]=null,n.set(s,a)}else e.ref.parentNode&&e.ref.parentNode.removeChild(e.ref)}}}}function S(){const n=[];return b(()=>x(q(n))),{addTag(t){if(g.indexOf(t.tag)!==-1){const e=t.tag==="title"?l:f,r=p(t,e),o=n.findIndex(s=>s.tag===t.tag&&p(s,e)===r);o!==-1&&n.splice(o,1)}return n.push(t),n.length},removeTag(t,e){}}}const G=n=>{const t=C?S():A();return T(y.Provider,{value:t,get children(){return n.children}})},v=(n,t,e)=>(k({tag:n,props:t,setting:e,id:$(),get name(){return t.name||t.property}}),null);function k(n){const t=O(y);if(!t)throw new Error("<MetaProvider /> should be in the tree");j(()=>{const e=t.addTag(n);P(()=>t.removeTag(n,e))})}function q(n){return n.map(t=>{const r=Object.keys(t.props).map(s=>s==="children"?"":` ${s}="${h(t.props[s],!0)}"`).join("");let o=t.props.children;return Array.isArray(o)&&(o=o.join("")),t.setting?.close?`<${t.tag} data-sm="${t.id}"${r}>${t.setting?.escape?h(o):o||""}</${t.tag}>`:`<${t.tag} data-sm="${t.id}"${r}/>`}).join("")}const Q=n=>v("title",n,{escape:!0,close:!0}),W=n=>v("meta",n);export{G as M,Q as T,_ as a,J as b,L as c,w as d,z as e,W as f,B as g,H as h,U as o,R as p,F as s,V as u};
